<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Frontend &mdash; Databench 0.3.7 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.3.7',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="Databench 0.3.7 documentation" href="index.html" />
    <link rel="next" title="Backend" href="backend.html" />
    <link rel="prev" title="Tutorial" href="tutorial.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:creator" content="@svenkreiss">
  <meta name="twitter:title" content="Databench Docs">
  <meta name="twitter:description" content="Databench is a data analysis tool using Flask, WebSockets and d3.js. Check out the live demos.">
  <meta name="twitter:image:src" content="http://www.svenkreiss.com/databench/v0.3/_static/logo-w600.png">
  <meta name="twitter:url" content="http://www.svenkreiss.com/databench/">

  <meta property="og:title" content="Databench Docs" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="http://www.svenkreiss.com/databench/v0.3/_static/logo-w600.png" />
  <meta property="og:url" content="http://www.svenkreiss.com/databench/" />

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="backend.html" title="Backend"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="tutorial.html" title="Tutorial"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Databench 0.3.7 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="frontend">
<h1>Frontend<a class="headerlink" href="#frontend" title="Permalink to this headline">¶</a></h1>
<p>This is section contains an overview of techniques and best practices that can
be used on the frontend, followed by a short overview of the frontend API and
a subsection on generic UI elements (buttons, sliders, etc).</p>
<div class="section" id="overview">
<span id="frontend-overview"></span><h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<div class="section" id="customization">
<span id="id1"></span><h3>Customization<a class="headerlink" href="#customization" title="Permalink to this headline">¶</a></h3>
<p>You can customize the header in <code class="docutils literal"><span class="pre">analyses/__init__.py</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">header_logo</span> <span class="o">=</span> <span class="s">&#39;/analyses_static/logo-header.svg&#39;</span>
<span class="n">header_title</span> <span class="o">=</span> <span class="s">&#39;My-awesome-project-or-company-name&#39;</span>
</pre></div>
</div>
<p>Place the <code class="docutils literal"><span class="pre">logo-header.svg</span></code> file in <code class="docutils literal"><span class="pre">analyses/static/</span></code>. Any standard image format like <code class="docutils literal"><span class="pre">.png</span></code>, <code class="docutils literal"><span class="pre">.jpeg</span></code> and <code class="docutils literal"><span class="pre">.svg</span></code> is supported.</p>
<p>In the html template, <code class="docutils literal"><span class="pre">[[</span> <span class="pre">analysis_description</span> <span class="pre">]]</span></code> returns the description
string passed into <a class="reference internal" href="backend.html#databench.Analysis" title="databench.Analysis"><code class="xref py py-class docutils literal"><span class="pre">databench.Analysis</span></code></a> which is usually the <code class="docutils literal"><span class="pre">__doc__</span></code>
string of your analysis Python file.</p>
</div>
<div class="section" id="formatting-math-markdown-and-src-files">
<h3>Formatting: Math, Markdown and src Files<a class="headerlink" href="#formatting-math-markdown-and-src-files" title="Permalink to this headline">¶</a></h3>
<p>The frontend also renders math expressions enclosed in <code class="docutils literal"><span class="pre">\\(</span></code> and <code class="docutils literal"><span class="pre">\\)</span></code> as
inline math and as block math when they are enclosed in <code class="docutils literal"><span class="pre">$$</span></code> and <code class="docutils literal"><span class="pre">$$</span></code>. It
also renders Markdown when it is enclosed in <code class="docutils literal"><span class="pre">{%</span> <span class="pre">filter</span> <span class="pre">markdown</span> <span class="pre">%}</span></code> and
<code class="docutils literal"><span class="pre">{%</span> <span class="pre">endfilter</span> <span class="pre">%}</span></code>. You can also include an external Markdown file with the
<code class="docutils literal"><span class="pre">include_md(file)</span></code> macro:</p>
<div class="highlight-python"><div class="highlight"><pre>{% from &#39;macros.html&#39; import include_md %}
[[ include_md(&#39;helloworld/README.md&#39;) ]]
</pre></div>
</div>
<p>To include an external source code file, use the <code class="docutils literal"><span class="pre">include_src(file,</span> <span class="pre">type)</span></code>
macro.</p>
</div>
<div class="section" id="twitter-bootstrap-and-font-awesome">
<h3>Twitter Bootstrap and Font Awesome<a class="headerlink" href="#twitter-bootstrap-and-font-awesome" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://getbootstrap.com/">Twitter Bootstrap</a> is
included so that responsive layouts of the form</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;row&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;col-md-6&quot;</span><span class="nt">&gt;</span>First column<span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;col-md-6&quot;</span><span class="nt">&gt;</span>Second column<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
<p>and many more things work out of the box.
<a class="reference external" href="http://fortawesome.github.io/Font-Awesome/">Font Awesome</a> is also
included so that you can add icons to your documentation. This also works
within Markdown rendered text. Therefore, you can link to your GitHub project
that hosts the analysis with</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;i</span> <span class="na">class=</span><span class="s">&quot;fa fa-fw fa-github&quot;</span><span class="nt">&gt;&lt;/i&gt;</span>
This [analysis is on GitHub](https://github.com/svenkreiss/databench_examples/tree/master/analyses/mpld3pi).
</pre></div>
</div>
<p>which shows a GitHub icon and the Markdown rendered text with a link.</p>
</div>
<div class="section" id="static-files">
<h3>Static Files<a class="headerlink" href="#static-files" title="Permalink to this headline">¶</a></h3>
<p>To add a static file to an analysis, place it in the analysis folder. Static
files in this folder are exposed at the <code class="docutils literal"><span class="pre">/&lt;some_analysis&gt;/static/</span></code> url.
For example, to add <code class="docutils literal"><span class="pre">angular.js</span></code> to an analysis of the name <em>angular</em>
(see for example the <a class="reference external" href="https://github.com/svenkreiss/databench_examples/tree/master/analyses/angular">angular analysis in the Databench examples</a>), add the
file <code class="docutils literal"><span class="pre">angular.js</span></code> to the folder <code class="docutils literal"><span class="pre">analyses/angular/</span></code> and include it in
<code class="docutils literal"><span class="pre">index.html</span></code> with:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/angular/static/angular.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></div>
</div>
<p>You can also add static files to <em>all</em> analyses by creating a folder
<code class="docutils literal"><span class="pre">analyses/static</span></code> and placing the static file in this folder. The URL
to access the files is <code class="docutils literal"><span class="pre">/analyses_static/my_static_file.png</span></code>. This is
the same folder that is used for a custom header logo;
see <a class="reference internal" href="#customization"><em>Customization</em></a>.</p>
</div>
<div class="section" id="including-databench-s-javascript-library">
<span id="include-databench-js"></span><h3>Including Databench&#8217;s JavaScript Library<a class="headerlink" href="#including-databench-s-javascript-library" title="Permalink to this headline">¶</a></h3>
<p>When using the <code class="docutils literal"><span class="pre">base.html</span></code> template, the databench library and a few more
libraries are already loaded:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/static/jquery/jquery-2.1.1.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/static/bootstrap-3.1.1-dist/js/bootstrap.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/static/MathJax/MathJax.js?config=TeX-AMS_HTML&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/static/d3/d3.v3.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/static/mpld3/mpld3.v0.2.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/static/databench.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></div>
</div>
<p>When using your own html template, you need to include at least <code class="docutils literal"><span class="pre">jQuery</span></code>
and <code class="docutils literal"><span class="pre">databench.js</span></code>.</p>
</div>
<div class="section" id="running-the-backend-at-a-custom-location">
<h3>Running the Backend at a Custom Location<a class="headerlink" href="#running-the-backend-at-a-custom-location" title="Permalink to this headline">¶</a></h3>
<p>You can also include Databench in websites. For that, you need the
Databench JavaScript library (explained above at <a class="reference internal" href="#include-databench-js"><em>Including Databench&#8217;s JavaScript Library</em></a>)
and you need to tell the frontend the location of your Databench backend:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">databench</span> <span class="o">=</span> <span class="nx">Databench</span><span class="p">({</span>
    <span class="nx">ws_url</span><span class="o">:</span> <span class="s1">&#39;ws://databench-examples.svenkreiss.com/simplepi/ws&#39;</span><span class="p">,</span>
<span class="p">});</span>
</pre></div>
</div>
<p>which connects to the backend of the
<a class="reference external" href="http://databench-examples.svenkreiss.com/simplepi/">public and live example of simplepi</a>.
When you connect to your own backend, you will have to invoke databench with</p>
<div class="highlight-bash"><div class="highlight"><pre>databench --host<span class="o">=</span>0.0.0.0
</pre></div>
</div>
<p>to allow non-local access.</p>
<p>WARNING: Databench was developed for deployment in trusted environments.
You need to handle security yourself, e.g. by running Databench on an
isolated server.</p>
</div>
</div>
<div class="section" id="databench-javascript-frontend">
<h2>Databench JavaScript Frontend<a class="headerlink" href="#databench-javascript-frontend" title="Permalink to this headline">¶</a></h2>
<p>This is the API documentation for the Databench JavaScript library.</p>
<dl class="function">
<dt id="Databench">
<code class="descname">Databench</code><span class="sig-paren">(</span><em>opts</em><span class="sig-paren">)</span><a class="headerlink" href="#Databench" title="Permalink to this definition">¶</a></dt>
<dd><p>At the heart of this closure are the <a class="reference internal" href="#Databench.emit" title="Databench.emit"><code class="xref js js-func docutils literal"><span class="pre">Databench.emit()</span></code></a> and
<a class="reference internal" href="#Databench.on" title="Databench.on"><code class="xref js js-func docutils literal"><span class="pre">Databench.on()</span></code></a> functions. Use them in your own JavaScript
code to communicate with the backend.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first last simple">
<li><strong>opts</strong> &#8211; Options to customize Databench. <cite>ws_url</cite> changes the
default url for connecting to the backend. <cite>content_class_name</cite> is
the CSS class name of the object that wraps the content which is
used to insert pop-up notifications into the page.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="Databench.emit">
<code class="descclassname">Databench.</code><code class="descname">emit</code><span class="sig-paren">(</span><em>signalName</em>, <em>message</em><span class="sig-paren">)</span><a class="headerlink" href="#Databench.emit" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first last simple">
<li><strong>signalName</strong> (<em>string</em>) &#8211; Name of the signal that is used to send the
message.</li>
<li><strong>message</strong> &#8211; Message to send.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Databench.on">
<code class="descclassname">Databench.</code><code class="descname">on</code><span class="sig-paren">(</span><em>signalName</em>, <em>callback</em><span class="sig-paren">)</span><a class="headerlink" href="#Databench.on" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first last simple">
<li><strong>signalName</strong> (<em>string</em>) &#8211; Name of the signal to listen to from the backend.</li>
<li><strong>callback</strong> (<em>function</em>) &#8211; Function that is called when a signal is
received.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="Databench.genericElements">
<code class="descclassname">Databench.</code><code class="descname">genericElements</code><a class="headerlink" href="#Databench.genericElements" title="Permalink to this definition">¶</a></dt>
<dd><p>A set of generally useful elements that are documented right below.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="generic-elements">
<span id="genericelements"></span><h2>Generic Elements<a class="headerlink" href="#generic-elements" title="Permalink to this headline">¶</a></h2>
<p>Below is the list of genericElements that are in <a class="reference internal" href="#Databench" title="Databench"><code class="xref js js-func docutils literal"><span class="pre">Databench()</span></code></a>.
They all can be instantiated from
JavaScript on the frontend. They are also created automatically for the
following elements on the page:</p>
<ul class="simple">
<li><a class="reference internal" href="#Databench.genericElements.log" title="Databench.genericElements.log"><code class="xref js js-func docutils literal"><span class="pre">Databench.genericElements.log()</span></code></a>: a <code class="docutils literal"><span class="pre">&lt;pre&gt;</span></code> with an <code class="docutils literal"><span class="pre">id</span></code> starting with <code class="docutils literal"><span class="pre">log</span></code></li>
<li><a class="reference internal" href="#Databench.genericElements.mpld3canvas" title="Databench.genericElements.mpld3canvas"><code class="xref js js-func docutils literal"><span class="pre">Databench.genericElements.mpld3canvas()</span></code></a>: a <code class="docutils literal"><span class="pre">&lt;div&gt;</span></code> with an <code class="docutils literal"><span class="pre">id</span></code> starting with <code class="docutils literal"><span class="pre">mpld3canvas</span></code>. The exact <code class="docutils literal"><span class="pre">id</span></code> becomes the signal name.</li>
<li><a class="reference internal" href="#Databench.genericElements.button" title="Databench.genericElements.button"><code class="xref js js-func docutils literal"><span class="pre">Databench.genericElements.button()</span></code></a>: a <code class="docutils literal"><span class="pre">&lt;button&gt;</span></code> with a <code class="docutils literal"><span class="pre">data-signal-name</span></code> attribute.</li>
<li><a class="reference internal" href="#Databench.genericElements.slider" title="Databench.genericElements.slider"><code class="xref js js-func docutils literal"><span class="pre">Databench.genericElements.slider()</span></code></a>: any <code class="docutils literal"><span class="pre">&lt;input[type='range']&gt;</span></code> element. The <code class="docutils literal"><span class="pre">name</span></code> attribute is used as the signalName.</li>
</ul>
<p>And here are the genericElements:</p>
<dl class="function">
<dt id="Databench.genericElements.log">
<code class="descclassname">Databench.genericElements.</code><code class="descname">log</code><span class="sig-paren">(</span><span class="optional">[</span><em>id</em>, <em>signalName</em>, <em>limit</em>, <em>consoleFnName</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#Databench.genericElements.log" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first last simple">
<li><strong>id</strong> &#8211; <code class="docutils literal"><span class="pre">id</span></code> of a <code class="docutils literal"><span class="pre">&lt;pre&gt;</span></code> element.</li>
<li><strong>signalName</strong> (<em>string</em>) &#8211; The signal to listen for.</li>
<li><strong>limit</strong> (<em>int</em>) &#8211; Maximum number of lines to show (default=20).</li>
<li><strong>consoleFnName</strong> (<em>string</em>) &#8211; Name of a method of <code class="docutils literal"><span class="pre">console</span></code>, like
&#8216;log&#8217; (default).</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This function provides log message handling from the frontend and
backend. By default, this looks at <code class="docutils literal"><span class="pre">log</span></code> messages from the backend and at
<code class="docutils literal"><span class="pre">console.log()</span></code> calls on the frontend. All messages will be shown in the
bound <code class="docutils literal"><span class="pre">&lt;pre&gt;</span></code> element and in the browser console. When no <code class="docutils literal"><span class="pre">id</span></code> is given, it will only show the messages in the browser console.</p>
</dd></dl>

<dl class="function">
<dt id="Databench.genericElements.mpld3canvas">
<code class="descclassname">Databench.genericElements.</code><code class="descname">mpld3canvas</code><span class="sig-paren">(</span><em>id</em><span class="optional">[</span>, <em>signalName</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#Databench.genericElements.mpld3canvas" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first last simple">
<li><strong>id</strong> &#8211; <code class="docutils literal"><span class="pre">id</span></code> of the element.</li>
<li><strong>signalName</strong> (<em>string</em>) &#8211; Waiting for plots to be send on this signal
(default=&#8217;mpld3canvas&#8217;).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Databench.genericElements.button">
<code class="descclassname">Databench.genericElements.</code><code class="descname">button</code><span class="sig-paren">(</span><em>selector</em><span class="optional">[</span>, <em>signalName</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#Databench.genericElements.button" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first last simple">
<li><strong>selector</strong> &#8211; <code class="docutils literal"><span class="pre">id</span></code> or jQuery selector of a <code class="docutils literal"><span class="pre">button</span></code> element.</li>
<li><strong>signalName</strong> (<em>string</em>) &#8211; if not provided, it is taken from a
<code class="docutils literal"><span class="pre">data-signal-name</span></code> attribute and if that is also not given then it
is set to the id.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>The signalName can be extracted from an attribute <code class="docutils literal"><span class="pre">data-signal-name</span></code>
and an optional message can be provided in JSON format in <code class="docutils literal"><span class="pre">data-message</span></code>.
The signalName and the message are used for a <a class="reference internal" href="#Databench.emit" title="Databench.emit"><code class="xref js js-func docutils literal"><span class="pre">Databench.emit()</span></code></a>.</p>
<p>This function adds actions to an HTML button. It adds a <code class="docutils literal"><span class="pre">click</span></code> event
handler and tracks the status of the action through the backend. The button
is set to active (the CSS class <code class="docutils literal"><span class="pre">active</span></code> is added) during the execution
in the backend.</p>
<p><strong>Example</strong>: <code class="docutils literal"><span class="pre">index.html</span></code>:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">&quot;btn btn-primary&quot;</span> <span class="na">data-signal-name=</span><span class="s">&quot;run&quot;</span><span class="nt">&gt;</span>Run<span class="nt">&lt;/button&gt;</span>
</pre></div>
</div>
<p>where <code class="docutils literal"><span class="pre">class=&quot;btn</span> <span class="pre">btn-primary&quot;</span></code> is only added to make the button look
nicer via <a class="reference external" href="http://getbootstrap.com/css/#buttons">Twitter Bootstrap Buttons</a>. In <code class="docutils literal"><span class="pre">analysis.py</span></code>, add</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">on_run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Run when button is pressed.&quot;&quot;&quot;</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>to the <code class="docutils literal"><span class="pre">Analysis</span></code> class. In this form, Databench finds the button
automatically and connects it to the backend. No additional JavaScript
code is required.</p>
</dd></dl>

<dl class="function">
<dt id="Databench.genericElements.slider">
<code class="descclassname">Databench.genericElements.</code><code class="descname">slider</code><span class="sig-paren">(</span><em>selector</em><span class="optional">[</span>, <em>signalName</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#Databench.genericElements.slider" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first last simple">
<li><strong>selector</strong> &#8211; <code class="docutils literal"><span class="pre">id</span></code> or jQuery selector of an <code class="docutils literal"><span class="pre">&lt;input[type='range']&gt;</span></code>
element.</li>
<li><strong>signalName</strong> (<em>string</em>) &#8211; if not provided, it is taken from a
<code class="docutils literal"><span class="pre">data-signal-name</span></code>, if that does not exist then from the <code class="docutils literal"><span class="pre">name</span></code>
attribute and if that is also not given then it
is set to the id.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>The signalName can be extracted from an attribute <code class="docutils literal"><span class="pre">data-signal-name</span></code> or
<code class="docutils literal"><span class="pre">name</span></code> (which is more natural for <code class="docutils literal"><span class="pre">&lt;input&gt;</span></code> elements).
The signalName is used for <a class="reference internal" href="#Databench.emit" title="Databench.emit"><code class="xref js js-func docutils literal"><span class="pre">Databench.emit()</span></code></a> and the message is
an array only containing the value of the slider.</p>
<p><strong>Example</strong>: <code class="docutils literal"><span class="pre">index.html</span></code>:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">&quot;samples&quot;</span><span class="nt">&gt;</span>Samples:<span class="nt">&lt;/label&gt;</span>
<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;range&quot;</span> <span class="na">name=</span><span class="s">&quot;samples&quot;</span> <span class="na">value=</span><span class="s">&quot;1000&quot;</span>
    <span class="na">min=</span><span class="s">&quot;100&quot;</span> <span class="na">max=</span><span class="s">&quot;10000&quot;</span> <span class="na">step=</span><span class="s">&quot;100&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
<p>In <code class="docutils literal"><span class="pre">analysis.py</span></code>, add</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">on_samples</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Sets the number of samples to generate per run.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">samples</span> <span class="o">=</span> <span class="n">value</span>
</pre></div>
</div>
<p>to the <code class="docutils literal"><span class="pre">Analysis</span></code> class. In this form, Databench finds the slider
automatically and connects it to the backend. No additional JavaScript
code is required.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/logo-w600.png" alt="Logo"/>
            </a></p>
<h1 class="logo logo-name"><a href="index.html">Databench</a></h1>


<p class="blurb">Databench is a data analysis tool using
<a href="http://flask.pocoo.org/">Flask</a>,
WebSockets and
<a href="http://d3js.org/">d3.js</a>.
Check out the <a href="http://databench-examples.svenkreiss.com/">live demos</a>.
</p>


<p class="blurb">
  This is the documentation for version&nbsp;0.3.7.
  
  
</p>



<p>
<iframe src="http://ghbtns.com/github-btn.html?user=svenkreiss&amp;repo=databench&amp;type=watch&amp;count=true&amp;size=large"
  width="200" height="35"></iframe>
</p>


<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Frontend</a></li>
<li class="toctree-l1"><a class="reference internal" href="backend.html">Backend</a></li>
<li class="toctree-l1"><a class="reference internal" href="deploy.html">Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev.html">Development</a></li>
</ul>




<hr />
<h3>Links</h3>
<ul>
    
    <li class="toctree-l1"><a href="http://databench-examples.svenkreiss.com">Live Demos</a></li>
    
    <li class="toctree-l1"><a href="https://github.com/svenkreiss/databench_examples">Examples</a></li>
    
    <li class="toctree-l1"><a href="https://github.com/svenkreiss/databench">Databench on GitHub</a></li>
    
    <li class="toctree-l1"><a href="https://github.com/svenkreiss/databench/issues">Issue Tracker</a></li>
    
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy; 2014 Sven Kreiss and contributors.
      
    </div>

    
    <a href="https://github.com/svenkreiss/databench" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-4070485-2']);
      _gaq.push(['_setDomainName', 'none']);
      _gaq.push(['_setAllowLinker', true]);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    
  </body>
</html>